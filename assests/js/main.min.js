function appendemptycell(){var t,n;for(loaded=!1,resizeclm(),t=window.innerWidth>768?2:6,n=0;n<countclmn*t;n++)$(".content").append('<div class="pin card_pin" style="height:'+randomIntFromInterval(270,330)+'px;"><div class="card_pin__image"><\/div><div class="card_pin__tags"><ul class=""><li><\/li><li><\/li><li><\/li><\/ul><\/div><div class="card_pin__title"><p><\/p><\/div><\/div>');resizeclm();updatemasonry();setTimeout(function(){getdata()},10)}function updatemasonry(){var n=$(".content");$(n).masonry("reloadItems");$(n).masonry("layout")}function resizeclm(){countclmn=Math.round(window.innerWidth/236);$(".content .pin").css("width",window.innerWidth/countclmn);$(".content").css("width",window.innerWidth-30)}function showresultsearch(n){n.length>1?($("a.clear").show(),$(".search-expand").empty(),$(".smalldevice").is(":visible")?$(".smalldevice .search-expand").append('<ul class="row list-inline mx-auto justify-content-center mb-5 result"><\/ul>'):$(".largedevice .search-expand").append('<ul class="row list-inline mx-auto justify-content-center mb-5 result"><\/ul>'),list.filter(function(t){var i,r,u;t.description.indexOf(n)!=-1&&($(".smalldevice").is(":visible")?(i=t.description,r=n,r=r.replace(/(\s+)/,"(<[^>]+>)*$1(<[^>]+>)*"),u=new RegExp("("+r+")","gi"),i=i.replace(u,"<mark>$1<\/mark>"),i=i.replace(/(<mark>[^<>]*)((<[^>]+>)+)([^<>]*<\/mark>)/,"$1<\/mark>$2<mark>$4"),$(".smalldevice .search-expand ul.result").append('<li class="border-bottom"><a data-searhed="'+n+'"><h5>'+t.name+"<\/h5><p>"+i+"<\/p><\/a><\/li>")):(i=t.description,r=n,r=r.replace(/(\s+)/,"(<[^>]+>)*$1(<[^>]+>)*"),u=new RegExp("("+r+")","gi"),i=i.replace(u,"<mark>$1<\/mark>"),i=i.replace(/(<mark>[^<>]*)((<[^>]+>)+)([^<>]*<\/mark>)/,"$1<\/mark>$2<mark>$4"),$(".largedevice .search-expand ul.result").append('<li class="border-bottom"><a data-searhed="'+n+'"><h5>'+t.name+"<\/h5><p>"+i+"<\/p><\/a><\/li>")))})):($("a.clear").hide(),$(".search-expand").empty(),generatAdditionalSearch())}function getdata(){$.ajax({url:"https://xoosha.com/ws/1/test.php?offset="+index+"&nocache="+(new Date).getTime(),type:"GET",cache:!1,timeout:12e3,success:function(n){var f,t,i,r,e,o,u;loaded=!0;$(".content div.card_pin").remove();f=[];t="";n.forEach(n=>{var r,u,i,f;for(t=t+(n.tags!=null?n.tags:""),list.push(n),r=n.tags!=null?n.tags.split(","):"",u="",i=0;i<r.length;i++)r[i].length>0&&(u=u+"<li>"+r[i]+"<\/li>");f='<ul class="tags">'+u+"<\/ul>";$(".content").append('<div class="pin" data-id="'+n.page_id+'"><div class="outerimg"><div class="options"><div class="boards"><b><i class="icon-arrow_down"><\/i>birthday gift<\/b><a>Save<\/a><\/div><div class="bottom-option row"><div class="col-2 col-sm-3 col-md-3 col-lg-3 col-xl-3 p-0 pl-1 lft text-left"><a><i class="icon-favorite"><\/i><\/a><\/div><div class="col-10 col-sm-9 col-md-9 col-lg-9 col-xl-9 p-0 pr-1 rt"><a onclick=openlink(this)><i class="icon-keyback"><\/i><\/a><a><i class="icon-share"><\/i><\/a><a class="more"><i class="icon-more"><\/i><\/a><\/div><\/div><\/div><img crossOrigin ="anonymous" class="lazy-image" data-src="'+n.image_url+'" /><\/div>'+f+"<p>"+n.name+"<\/p><\/div>")});lazyImages=[...document.querySelectorAll(".lazy-image")];resizeclm();updatemasonry();let s=new ColorThief;for(i=0;i<lazyImages.length;i++){r=0;const n=lazyImages[i];n.onerror=()=>{n.src="/assests/common/img/brokenimage.jpg",$(n).parent().closest("div.pin").addClass("loaded"),$(n).removeClass("lazy-image"),$(n).attr("data-src",""),$(n).addClass("errorimg")};n.src=$(n).attr("data-src");n.onload=()=>{if($(n).crossOrigin="anonymous",$(n).parent().closest("div.pin").addClass("loaded"),r=r+1,$(n).hasClass("errorimg")){updatemasonry();return}let t=ntc.name("#"+s.getColor(n).map(n=>{const t=n.toString(16);return t.length===1?"0"+t:t}).join(""));$(n).after('<a id="commoncolor" style="background-color: '+t[0]+";border:solid 1px "+hex2rgba(t[2],.7)+';"><\/a>');$(n).parent().closest("div.pin").css("border-color",hex2rgba(t[0],.37));$(n).removeClass("lazy-image");var i={};i.name=t[3];i.hex=t[0];listcolors.push(i);updatemasonry();r==lazyImages.length}}e=t.split(",");e.forEach(n=>{n.indexOf(" ")>-1&&f.push(n)});for(let n of f)newword[n]?(newword[n]++,o=commons.findIndex(t=>t.name==n),commons[o].count++):(newword[n]=1,u={},u.name=n,u.count=1,commons.push(u));commons.sort((n,t)=>n.count-t.count)},error:function(n){alert(n.responseText)}})}function randomIntFromInterval(n,t){return Math.floor(Math.random()*(t-n+1)+n)}function onfocussearch(n){var u,i,t,r;if(!$(".search-expand").hasClass("show")){$(".search-expand").addClass("show");$("header").append('<div class="bgoverlay"><\/div>');u={};for(let n of listcolors)i=commonscolors.findIndex(t=>t.name==n.name),i>-1?commonscolors[i].count++:(u[n]=1,t={},t.name=n.name,t.hex=n.hex,t.count=1,commonscolors.push(t));$(".search-expand").empty();r=$(n).val();r.length>0?showresultsearch(r):generatAdditionalSearch()}}function generatAdditionalSearch(){var n;if($(".smalldevice").is(":visible")){$(".smalldevice .search-expand").append('<h4>Ideas for you<\/h4><ul class="row list-inline mx-auto justify-content-center mb-5 border-bottom ideas"><\/ul>');try{n=0;for(let t=1;t<10;t++){let i=list.filter(n=>n.tags!=null?n.tags.includes(commons[commons.length-t].name):"");i.length>0&&n<5&&($(".smalldevice .search-expand ul").append('<li class="col-2 col-md-3 col-5 col-sm-3"><img src="'+i[0].image_url+'"/><a>'+commons[commons.length-t].name+"<\/a><\/li>"),n++)}}catch(t){}commonscolors.sort((n,t)=>n.count-t.count);$(".smalldevice .search-expand").append('<h4>Common colors<\/h4><ul class="commoncolors row list-inline mx-auto justify-content-center commoncolors"><\/ul>');for(let n=1;n<6;n++)$(".smalldevice .search-expand ul.commoncolors").append('<li style="background-color:'+commonscolors[commonscolors.length-n].hex+'" class="col"><a>'+commonscolors[commonscolors.length-n].name+"<\/a><\/li>")}else{$(".largedevice .search-expand").append('<h4>Ideas for you<\/h4><ul class="row list-inline mx-auto justify-content-center mb-5 border-bottom ideas"><\/ul>');try{n=0;for(let t=1;t<10;t++){let i=list.filter(n=>n.tags!=null?n.tags.includes(commons[commons.length-t].name):"");i.length>0&&n<5&&($(".search-expand ul").append('<li class="col-2 col-md-3 col-lg-3 col-xl-2"><img src="'+i[0].image_url+'"/><a>'+commons[commons.length-t].name+"<\/a><\/li>"),n++)}}catch(t){}commonscolors.sort((n,t)=>n.count-t.count);$(".largedevice .search-expand").append('<h4>Common colors<\/h4><ul class="commoncolors row list-inline mx-auto justify-content-center commoncolors"><\/ul>');for(let n=1;n<6;n++)commonscolors[commonscolors.length-n].hex!==null&&$(".largedevice .search-expand ul.commoncolors").append('<li style="background-color:'+commonscolors[commonscolors.length-n].hex+'" class="col"><a>'+commonscolors[commonscolors.length-n].name+"<\/a><\/li>")}}function onfocusoutsearch(){}function showsearchbox(){var i,t,n;$(".search-expand").empty();i={};for(let r of listcolors)t=commonscolors.findIndex(n=>n.name==r.name),t>-1?commonscolors[t].count++:(i[r]=1,n={},n.name=r.name,n.hex=r.hex,n.count=1,commonscolors.push(n));generatAdditionalSearch();$("header div.smalldevice div#search").addClass("show");$("header div.smalldevice .search-expand").addClass("show");$("div.navigationbar a").removeClass("active");$("div.navigationbar a:nth-child(2)").addClass("active")}function hidesearchbox(){$("#txtsearchsmall").val("");$("header div.smalldevice div#search").removeClass("show");$("header div.largedevice div#search").removeClass("show");$("div.navigationbar a").addClass("active");$("div.navigationbar a:nth-child(2)").removeClass("active")}function openlink(n){var t=$(n).parent().closest("div.pin").attr("data-id"),i=list.findIndex(n=>n.page_id==t),r=list[i].url;window.open(r,"_blank").focus()}var masonryLoaded=0,masonryUpdate,clmnwidth=0,countclmn=0;window.addEventListener("resize",function(){resizeclm();masonryLoaded==1&&updatemasonry()},!0);$(window).scroll(function(){$(window).scrollTop()>=$(document).height()-$(window).height()-100&&loaded&&(index++,appendemptycell());var t=this.scrollY,i=this.scrollX,n=$("header").innerHeight();t>n?($("header").addClass("fixed"),$(".infoBoard").css("margin-top",n)):($("header").removeClass("fixed"),$(".infoBoard").css("margin-top",0))});$(window).on("load",function(){});$(document).on("click",function(n){$(n.target).closest("#search").length!==0||$(".smalldevice").is(":visible")||($(".search-expand").removeClass("show"),$("header").find("div.bgoverlay").remove());$(n.target).closest(".tooltipmore").length===0&&$(n.target).closest(".more").length===0&&$(".tooltipmore").remove("")});$(document).ready(function(){window.innerWidth>1445&&(countclmn=Math.round(window.innerWidth/236));masonryLoaded==0&&$.ajax({dataType:"script",cache:!0,async:!1,url:"/assests/common/js/masonry.pkgd.min.js",success:function(){masonryLoaded=1;$(".content").masonry({itemSelector:".pin",fitWidth:!0,transitionDuration:.3});appendemptycell()}});$("body").delegate(".content div.pin div.outerimg","mouseover",function(){$(this).addClass("showoptions")});$("body").delegate("header a.clear","click",function(){$("#txtsearch").val("");$("#txtsearchsmall").val("");$(".search-expand").empty();generatAdditionalSearch();$("a.clear").hide()});$("body").delegate(".content div.pin div.outerimg","mouseleave",function(){$(this).removeClass("showoptions")});$("body").delegate("header #txtsearch","keyup",function(){var n=$(this).val();showresultsearch(n)});$("body").delegate("header #txtsearchsmall","keyup",function(){var n=$(this).val();showresultsearch(n)});$("body").delegate("header #txtsearchsmall","keypress",function(){var n=$(this).val();showresultsearch(n)});$("body").delegate("div.content div.pin div.options a.more","click",function(){var n,i,t;$("#tooltipmore").is(":visible")&&$("#tooltipmore").hide();$("#tooltipmore").remove();n='<ul id="tooltipmore" class="tooltipmore"><li>Hide Pin<\/li><li>Download image<\/li><li>Report Pin<\/li><\/ul>';$(this).parent().closest("div.content").append(n);i=$(this).height();t=$(this).parent().closest("div.pin").position().top+$(this).parent().closest("div.pin").find("img").height()-10;$("#tooltipmore").css({top:t,left:$(this).parent().closest("div.pin").position().left,width:$(this).parent().closest("div.pin").width()-10});$("#tooltipmore").show()})});let lazyImages=[...document.querySelectorAll(".lazy-image")],inAdvance=900;var index=1,commons=[],newword={},list=[],commonscolors=[],listcolors=[],loaded=!1;const hex2rgba=(n,t=1)=>{const[i,r,u]=n.match(/\w\w/g).map(n=>parseInt(n,16));return`rgba(${i},${r},${u},${t})`};